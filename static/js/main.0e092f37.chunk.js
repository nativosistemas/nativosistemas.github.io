(this.webpackJsonpappdk=this.webpackJsonpappdk||[]).push([[0],{25:function(e,a,t){e.exports=t(39)},30:function(e,a,t){},31:function(e,a,t){},32:function(e,a,t){},39:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(22),l=t.n(o),c=(t(30),t(31),t(1)),i=(t(32),t(5)),s=t(2),d=t(23),m=t(10),u=t(11),p=t(14),f=t(13),v=t(12),g=t(4),h=t.n(g),b=t(9),E="https://api.kellerhoff.com.ar/api/";function N(e){return"$"+function(e){var a=e.toFixed(2),t=e.toFixed(2),r=!1;if(a){-1!==a.toString().indexOf("-")&&(r=!0);var n=a.toString().replace("-","").split(".");if(n.length>0){n[0].length;for(var o="",l=n[0];l.length>3;)o="."+l.substr(l.length-3)+o,l=l.substring(0,l.length-3);o=l+o,t=void 0==n[1]?o:o+","+n[1]}r&&(t="-"+t)}return t}(e)}function y(e){var a=e.getFullYear(),t=(1+e.getMonth()).toString();t=t.length>1?t:"0"+t;var r=e.getDate().toString();r=r.length>1?r:"0"+r;var n=e.getHours().toString();n=n.length>1?n:"0"+n;var o=e.getMinutes().toString();o=o.length>1?o:"0"+o;var l=e.getSeconds().toString();return r+"/"+t+"/"+a+" "+n+":"+o+":"+(l=l.length>1?l:"0"+l)}function S(e){var a=function(e){var a=localStorage.getItem("l_farmacias")||"";null!==a&&void 0!==a&&""!==a&&(a=JSON.parse(a));Array.isArray(a)||(a=[]);var t=a.find((function(a){return String(e.id)===String(a.id)}));return void 0!==t&&null!==t&&""!==t?t:null}(e);return null===a?e:a}function C(e){var a=function(e){var a=localStorage.getItem("l_modulos")||"";void 0!==a&&null!==a&&""!==a&&(a=JSON.parse(a)),Array.isArray(a)||(a=[]);var t=a.find((function(a){return String(e.id)===String(a.id)}));return void 0!==t&&null!==t&&""!==t?t:null}(e);return null===a?e:a}function O(e,a){var t=0;if(null===a||void 0===a||""===a)return t;var r=localStorage.getItem("l_pedidos")||"";if(""!==r&&(r=JSON.parse(r),Array.isArray(r)))for(var n=0;n<r.length;n++)if(String(r[n].modulo.id)===String(e.id)&&String(r[n].farmacia.id)===String(a.id)){t=r[n].cantidad;break}return t}function A(e,a){var t=0;return void 0!==a&&null!==a&&""!==a&&(t=e.precioDescuento,e.isTieneEnCuentaDescuentoCliente)?k(e.precioDescuento,a.objCliente,e):t}function x(e,a){return void 0!==a&&null!==a&&""!==a?k(e.objProducto.pro_PrecioBase,a.objCliente,e):0}function w(e,a,t){var r=t-a.pro_PorcARestarDelDtoDeCliente;r<0&&(r=0);var n=e;return n*=parseFloat(1)-r/parseFloat(100)}function k(e,a,t){var r=0,n=t.objProducto;if(n.pro_neto)switch(n.pro_codtpopro){case"M":r=w(e,n,a.cli_pordesbetmed);break;case"P":case"A":case"V":r=w(e,n,a.cli_pordesnetos)}else r=w(e,n,a.cli_PorcentajeDescuentoDeEspecialidadesMedicinalesDirecto);return parseFloat(parseFloat(r).toFixed(2))}function M(){var e=localStorage.getItem("farmaciaCurrent")||"";if(null!==e&&void 0!==e&&""!==e)try{e=JSON.parse(e)}catch(a){e=null}else e=null;return null!==e&&(e=S(e)),e}function j(e){localStorage.setItem("farmaciaCurrent",JSON.stringify(e))}function F(){var e=0,a=0,t=M();if(null!==t&&void 0!==t&&""!==t){var r=window.localStorage.getItem("l_pedidos")||"";null!==r&&void 0!==r&&""!==r&&(r=JSON.parse(r)),Array.isArray(r)||(r=[]);var n=[];r.forEach((function(e){if(e.cantidad>0&&e.farmacia.id===t.id){var a={fechaCreacion:e.fechaCreacion,farmacia:S(e.farmacia),modulo:C(e.modulo),cantidad:e.cantidad};n.push(a)}})),n.forEach((function(r){var n=0,o=0;if(r.modulo.moduloDetalle.forEach((function(e){var a=e.cantidadUnidades;0==a&&(a=1),e.objProducto.pro_PrecioBase>0&&(o+=x(e,t)*a),e.precioDescuento>0&&(n+=A(e,t)*a)})),r.cantidad>0){var l=o*r.cantidad,c=n*r.cantidad;e+=c,a+=l-c}}))}return{ahorroTotal:a,montoTotal:e}}function T(){return(T=Object(b.a)(h.a.mark((function e(a,t){var r,n,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,(n={}).login=a,n.pass=t,o=JSON.stringify(n),fetch(E+"Authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(e){return e.json()})).then((function(e){null!==e.apNombre&&void 0!==e.apNombre&&""!==e.apNombre&&(localStorage.setItem("login_ApNombre",e.apNombre),r=!0),null!==e.token&&void 0!==e.token&&""!==e.token&&localStorage.setItem("login_Token",e.token)})).then((function(e){R()&&J().then((function(){window.location.reload(!1)}))})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){localStorage.removeItem("login_ApNombre"),localStorage.removeItem("ultimaSincronizacion")}function R(){var e=!1,a=localStorage.getItem("login_ApNombre")||"";return null!==a&&void 0!==a&&""!==a&&(e=!0),e}function I(){var e="",a=localStorage.getItem("login_ApNombre")||"";return null!==a&&void 0!==a&&""!==a&&(e=a),e}function P(){return E}function G(){var e="",a=localStorage.getItem("login_Token")||"";return null!==a&&void 0!==a&&""!==a&&(e=a),e}function J(){return L.apply(this,arguments)}function L(){return(L=Object(b.a)(h.a.mark((function e(){var a,t,r,n,o,l,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==I()){e.next=10;break}return localStorage.setItem("ultimaSincronizacion",Date.now()),e.next=4,fetch(P()+"SincronizadorApp?"+new URLSearchParams({ApNombre:I()}),{headers:{Authorization:G()}});case 4:return a=e.sent,t=a.json(),e.next=8,t;case 8:null!==(r=e.sent)&&void 0!==r&&""!==r&&(null!==(n=r.listaFarmacia)&&void 0!==n&&""!==n&&Array.isArray(n)&&localStorage.setItem("l_farmacias",JSON.stringify(n)),null!==(o=r.listaModulo)&&void 0!==o&&""!==o&&Array.isArray(o)&&localStorage.setItem("l_modulos",JSON.stringify(o)),null!==(l=r.listaLaboratorio)&&void 0!==l&&""!==l&&Array.isArray(l)&&localStorage.setItem("l_laboratorios",JSON.stringify(l)),null!==(c=r.listaAppInfoPedido)&&void 0!==c&&""!==c&&Array.isArray(c)&&(null!==(i=window.localStorage.getItem("l_pedidosHistorial")||"")&&void 0!==i&&""!==i&&(i=JSON.parse(i)),Array.isArray(i)||(i=[]),c.forEach((function(e){for(var a=0;a<i.length;a++)String(i[a].guid)===String(e.pea_guid)&&parseInt(i[a].modulo.id)===parseInt(e.pea_numeroModulo)&&parseInt(i[a].farmacia.id)===parseInt(e.pea_codCliente)&&(i[a].procesado=e.pea_procesado,i[a].procesado_fecha=e.pea_procesado_fecha,i[a].procesado_cantidad=e.pea_procesado_cantidad,i[a].procesado_descripcion=e.pea_procesado_descripcion)})),localStorage.setItem("l_pedidosHistorial",JSON.stringify(i))));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){var e=window.localStorage.getItem("ultimaSincronizacion")||"";return null!==e&&void 0!==e&&""!==e?e:null}var z=function(e){Object(f.a)(t,e);var a=Object(v.a)(t);function t(e){var r;return Object(m.a)(this,t),(r=a.call(this,e)).state={name:"",user:"",password:"",loginErrors:""},r.handleSubmit=r.handleSubmit.bind(Object(p.a)(r)),r.handleChange=r.handleChange.bind(Object(p.a)(r)),r}return Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=this.state;!function(e,a){T.apply(this,arguments)}(a.name,a.password)}},{key:"render",value:function(){return R()?n.a.createElement(s.a,{to:"/laboratorio"}):n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("h3",null,"Iniciar sesi\xf3n"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Usuario"),n.a.createElement("input",{type:"text",name:"name",className:"form-control",placeholder:"Ingrese usuario",value:this.state.name,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Contrase\xf1a"),n.a.createElement("input",{type:"password",name:"password",className:"form-control",placeholder:"Ingrese contrase\xf1a",value:this.state.password,onChange:this.handleChange,required:!0})),n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Login")))}}]),t}(r.Component),H=function(e){Object(f.a)(t,e);var a=Object(v.a)(t);function t(e){var r;return Object(m.a)(this,t),(r=a.call(this,e)).refrescarCantidad=function(){var e=0;e=r.isChangeCantidad()?r.props.getCantidad(r.props.modulo):r.props.modulo.cantidadGrabado,r.setState({count:e},(function(){r.RefrescarMontosAhorro()}))},r.isFarmaciaSeleccionada=function(){var e=r.props.farmacia;return 0==(null===e||void 0===e||""===e)},r.isChangeCantidad=function(){var e=r.props.modulo.cantidadGrabado;return 0==(null!==e&&void 0!==e&&""!==e)},r.onClickAccion=function(e,a){if(e.preventDefault(),r.isFarmaciaSeleccionada()&&r.isChangeCantidad()){var t=parseInt(r.state.count);if(0===t&&-1===a)return null;var n=r.props.modulo.cantidadMinimos;t===n&&-1===a?t=0:t<n&&1===a?t=n:t+=parseInt(a),r.cambiarCantidad(t)}},r.cambiarCantidad=function(e){""!==e&&null!==e||(e=0);var a=parseInt(e);r.setState({count:a},(function(){r.props.setCantidad(r.props.modulo,a),r.RefrescarMontosAhorro()}))},r.onBlurCantidad=function(e){""!==e&&null!==e||(e=0);var a=parseInt(e);a<r.props.modulo.cantidadMinimos&&0!==a&&r.cambiarCantidad(0)},r.RefrescarMontosAhorro=function(){var e=0,a=0;r.props.modulo.moduloDetalle.forEach((function(t){var n=t.cantidadUnidades;0==n&&(n=1),t.objProducto.pro_PrecioBase>0&&(a+=x(t,r.props.farmacia)*n),t.precioDescuento>0&&(e+=A(t,r.props.farmacia)*n)}));var t=0,n=0;r.state.count>0&&(t=e*r.state.count,n=a*r.state.count-t),r.setState({montoTotal:t},(function(){r.setState({ahorroTotal:n},(function(){r.props.refreshMontoAhorroGeneral()}))}))},r.isPromociones=function(){var e=!1;return null!==r.props.isPromociones&&void 0!==r.props.isPromociones&&""!==r.props.isPromociones&&(e=r.props.isPromociones),e},r.isCarrito=function(){var e=!1;return null!==r.props.isCarrito&&void 0!==r.props.isCarrito&&""!==r.props.isCarrito&&(e=r.props.isCarrito),e},r.isPedido=function(){var e=!1;return null!==r.props.isPedido&&void 0!==r.props.isPedido&&""!==r.props.isPedido&&(e=r.props.isPedido),e},r.onClickClose=function(e){e.preventDefault(),r.isPedido()?(!function(e,a){var t=window.localStorage.getItem("l_pendienteGrabados")||"";if(null!==t&&void 0!==t&&""!==t&&(t=JSON.parse(t)),Array.isArray(t)){for(var r=0;r<t.length;r++)t[r].farmacia.id===a.id&&(t[r].modulos=t[r].modulos.filter((function(a){return a.modulo.id!==e.id})));localStorage.setItem("l_pendienteGrabados",JSON.stringify(t))}}(r.props.modulo,r.props.farmacia),window.location.reload(!1)):r.isFarmaciaSeleccionada()&&r.isChangeCantidad()&&(r.cambiarCantidad(0),window.location.reload(!1))},r.state={count:0,ahorroTotal:0,montoTotal:0},r}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.refrescarCantidad()}},{key:"render",value:function(){var e=this,a=this.props.modulo,t=this.props.modulo.moduloDetalle;return n.a.createElement("div",{className:this.props.isPar?"card cardModulo moduloCssPar":"card cardModulo "},this.isCarrito()&&n.a.createElement("div",{className:"card-header"},n.a.createElement("button",{type:"button",class:"btn  btn-link","aria-label":"Close",onClick:function(a){return e.onClickClose(a)}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 512 512",height:"28",viewBox:"0 0 512 512",width:"28"},n.a.createElement("g",null,n.a.createElement("path",{d:"m424 64h-88v-16c0-26.467-21.533-48-48-48h-64c-26.467 0-48 21.533-48 48v16h-88c-22.056 0-40 17.944-40 40v56c0 8.836 7.164 16 16 16h8.744l13.823 290.283c1.221 25.636 22.281 45.717 47.945 45.717h242.976c25.665 0 46.725-20.081 47.945-45.717l13.823-290.283h8.744c8.836 0 16-7.164 16-16v-56c0-22.056-17.944-40-40-40zm-216-16c0-8.822 7.178-16 16-16h64c8.822 0 16 7.178 16 16v16h-96zm-128 56c0-4.411 3.589-8 8-8h336c4.411 0 8 3.589 8 8v40c-4.931 0-331.567 0-352 0zm313.469 360.761c-.407 8.545-7.427 15.239-15.981 15.239h-242.976c-8.555 0-15.575-6.694-15.981-15.239l-13.751-288.761h302.44z"}),n.a.createElement("path",{d:"m256 448c8.836 0 16-7.164 16-16v-208c0-8.836-7.164-16-16-16s-16 7.164-16 16v208c0 8.836 7.163 16 16 16z"}),n.a.createElement("path",{d:"m336 448c8.836 0 16-7.164 16-16v-208c0-8.836-7.164-16-16-16s-16 7.164-16 16v208c0 8.836 7.163 16 16 16z"}),n.a.createElement("path",{d:"m176 448c8.836 0 16-7.164 16-16v-208c0-8.836-7.164-16-16-16s-16 7.164-16 16v208c0 8.836 7.163 16 16 16z"}))))),n.a.createElement("div",{className:"card-body"},t.length>0&&n.a.createElement("table",{className:"table textTable"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Producto "),n.a.createElement("th",{className:"d-none d-sm-none d-md-table-cell",scope:"col"},"Descripci\xf3n"),n.a.createElement("th",{scope:"col"},"Precio"),n.a.createElement("th",{scope:"col"},"Precio c/ Desc."),n.a.createElement("th",{className:"d-none d-sm-none d-md-table-cell",scope:"col"},"Cant. Unid."))),n.a.createElement("tbody",null,t.map((function(a,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,a.producto),n.a.createElement("td",{className:"d-none d-sm-none d-md-table-cell"},a.descripcion),n.a.createElement("td",null,N(x(a,e.props.farmacia))),n.a.createElement("td",null,N(A(a,e.props.farmacia))),n.a.createElement("td",{className:"d-none d-sm-none d-md-table-cell"},a.cantidadUnidades))}))))),n.a.createElement("div",{className:"card-footer "},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},null!=this.props.modulo.cantidadMinimos&&n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text font-weight-bold"},"Cantidad m\xednima:")),n.a.createElement("input",{type:"number",className:"form-control","aria-describedby":"basic-addon1",value:this.props.modulo.cantidadMinimos,readOnly:!0}))),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("div",{className:" row justify-content-center"},n.a.createElement("div",{className:"input-group col-xs-12 col-sm-10 col-md-8 col-lg-8"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(a){return e.onClickAccion(a,-1)}},"-")),n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Cantidad",value:this.state.count,onChange:function(a){return e.cambiarCantidad(a.target.value)},onBlur:function(a){return e.onBlurCantidad(a.target.value)},readOnly:!this.isChangeCantidad()}),n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(a){return e.onClickAccion(a,1)}},"+"))))),n.a.createElement("div",{className:"col"},n.a.createElement("div",{className:"input-group "},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text font-weight-bold"},"MONTO TOTAL")),n.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:N(this.state.montoTotal)})),n.a.createElement("div",{className:"input-group "},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text font-weight-bold"},"TOTAL AHORRO")),n.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:N(this.state.ahorroTotal)}))))),null!=a.procesado&&n.a.createElement("ul",{className:"list-group list-group-flush"},null!=a.procesado&&n.a.createElement("li",{className:"list-group-item"},n.a.createElement("div",null,n.a.createElement("h6",{className:"my-0"},a.procesado?"Procesado":"No procesado"))),null!=a.procesado_fecha&&n.a.createElement("li",{className:"list-group-item"},n.a.createElement("div",null,n.a.createElement("h6",{className:"my-0"},"Fecha procesado")),n.a.createElement("span",{className:"text-muted"},function(e){var a=e.getFullYear(),t=(1+e.getMonth()).toString();t=t.length>1?t:"0"+t;var r=e.getDate().toString();return(r=r.length>1?r:"0"+r)+"/"+t+"/"+a}(new Date(a.procesado_fecha)))),null!=a.procesado_cantidad&&n.a.createElement("li",{className:"list-group-item"},n.a.createElement("div",null,n.a.createElement("h6",{className:"my-0"},"Cantidad procesado")),n.a.createElement("span",{className:"badge bg-primary rounded-pill"},a.procesado_cantidad)),null!=a.procesado_descripcion&&n.a.createElement("li",{className:"list-group-item"},n.a.createElement("div",{className:"text-success"},n.a.createElement("h6",{className:"my-0"},"Nota")),n.a.createElement("span",{className:"text-success"},a.procesado_descripcion))))}}]),t}(r.Component),U=function(e){Object(f.a)(t,e);var a=Object(v.a)(t);function t(e){var r;return Object(m.a)(this,t),(r=a.call(this,e)).componentWillMount=function(){r.props.modulos.forEach((function(e){r.miMapaRefs.set(e.id,n.a.createRef())}))},r.componentWillUpdate=function(){r.miMapaRefs=new Map,r.props.modulos.forEach((function(e){r.miMapaRefs.set(e.id,n.a.createRef())}))},r.actualizarCantidadEnLosModulos=function(){r.miMapaRefs.forEach((function(e){e.current.refrescarCantidad()}))},r.getMontoTotalGeneral=function(){var e=0;return r.miMapaRefs.forEach((function(a){e+=a.current.state.montoTotal})),e},r.getTotalAhorroGeneral=function(){var e=0;return r.miMapaRefs.forEach((function(a){e+=a.current.state.ahorroTotal})),e},r.refreshMontoAhorroGeneral=function(){r.setState({totalAhorroGeneral:r.getTotalAhorroGeneral()},(function(){r.setState({montoTotalGeneral:r.getMontoTotalGeneral()},(function(){r.props.refreshMontoAhorroGeneral()}))}))},r.setCantidad=function(e,a){var t=r.props.farmacia;if(null!==t&&void 0!==t&&""!==t){var n=localStorage.getItem("l_pedidos")||"",o=!0;if(""!==n&&(n=JSON.parse(n)),Array.isArray(n)){for(var l=0;l<n.length;l++)if(n[l].modulo.id===e.id&&n[l].farmacia.id===t.id){o=!1,n[l].cantidad=a;break}}else n=[];if(o){var c={fechaCreacion:Date.now(),farmacia:t,modulo:e,cantidad:a};n.push(c)}localStorage.setItem("l_pedidos",JSON.stringify(n))}},r.getCantidad=function(e){var a=r.props.farmacia;return""===a?0:O(e,a)},r.onClickClose=function(e,a){e.preventDefault(),""!==r.props.farmacia&&(r.setCantidad(a,0),window.location.reload(!1))},r.state={totalAhorroGeneral:0,montoTotalGeneral:0},r.miMapaRefs=new Map,r}return Object(u.a)(t,[{key:"render",value:function(){var e=this,a=this.props.modulos;return 0===a.length?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(n.a.Fragment,null,a.map((function(a,t){return n.a.createElement(n.a.Fragment,null,n.a.createElement(H,{key:t,ref:e.miMapaRefs.get(a.id),isPar:parseInt(t)%2,farmacia:e.props.farmacia,modulo:a,setCantidad:e.setCantidad,getCantidad:e.getCantidad,refreshMontoAhorroGeneral:e.refreshMontoAhorroGeneral,isPromociones:e.props.isPromociones,isCarrito:e.props.isCarrito}))}))))}}]),t}(r.Component);var W=function(e){var a=Object(r.useRef)(null),t=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=M();null!==e&&void 0!==e&&""!==e&&(t.current.value=String(e.id)+" - "+e.nombre)}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:"navbar navbar-light bg-gradient-info"},n.a.createElement("div",{className:"row rowNavbar"},"    ",n.a.createElement("div",{className:"col-lg-6 col-md-12"},n.a.createElement("form",{onSubmit:function(t){t.preventDefault();var r=a.current.value;e.filtrarModulosApp(r)}},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"Farmacia"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{ref:t,type:"text",list:"listaFarmacias",className:"form-control",onClick:function(e){e.preventDefault()},onChange:e.handleChange,readOnly:!0}),n.a.createElement("datalist",{id:"listaFarmacias"},n.a.createElement("select",{className:"form-control "},e.farmacias.map((function(e){return n.a.createElement("option",{key:e.id},String(e.id)+" - "+e.nombre)})))))),n.a.createElement("div",{className:"input-group "},n.a.createElement("input",{ref:a,type:"search",className:"form-control inputUppercase mr-sm-2",placeholder:"Filtro","aria-label":"Filtro"}),n.a.createElement("div",{className:"input-group-btn"},n.a.createElement("button",{className:"btn btn-outline-success",type:"submit"},"Busqueda"))))),n.a.createElement("div",{className:"col-lg-6 col-md-12"},n.a.createElement("div",{className:"input-group "},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text font-weight-bold"},"MONTO TOTAL GENERAL")),n.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:N(e.getMontoTotalGeneral)})),n.a.createElement("div",{className:"input-group "},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text font-weight-bold"},"TOTAL GENERAL AHORRO")),n.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:N(e.getTotalAhorroGeneral)}))))))},B=function(e){Object(f.a)(t,e);var a=Object(v.a)(t);function t(e){var r;return Object(m.a)(this,t),(r=a.call(this,e)).cargarDatosInicio_DesdeApi=function(){r.cargarDatosInicio_DesdeLocalStorage()},r.cargarDatosInicio_DesdeLocalStorage=function(){var e=localStorage.getItem("l_farmacias")||"";null!==e&&void 0!==e&&""!==e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[]),r.setState({farmacias:e});var a=localStorage.getItem("l_modulos")||"";null!==a&&void 0!==a&&""!==a&&(a=JSON.parse(a)),Array.isArray(a)||(a=[]);var t=r.props.match.params.cuit,n=[];n=void 0===t?a:a.filter((function(e){return String(t)===String(e.idLaboratorio)})),r.setState({modulosOriginal:n},(function(){var e=M();null!==e&&void 0!==e&&""!==e&&r.setState({farmaciaSeleccionada:e},(function(){})),r.filtrarModulosApp("")}))},r.filtrarModulosApp=function(e){r.setState({filtrado:e},(function(){if(""===r.state.filtrado)r.setState({modulos:r.state.modulosOriginal});else{var e=r.state.modulosOriginal.filter((function(e){return void 0!==e.moduloDetalle.find((function(e){return String(e.producto).toUpperCase().includes(String(r.state.filtrado).toUpperCase())}))}));r.setState({modulos:e})}}))},r.refreshMontoAhorroGeneral_promociones=function(){var e=F();r.setState({totalAhorroGeneral_promociones:e.ahorroTotal},r.setState({montoTotalGeneral_promociones:e.montoTotal}))},r.onClickSeguirComprando=function(e){e.preventDefault();r.props.history.push("/laboratorio")},r.onClickVolver=function(e){e.preventDefault(),window.location.reload(!1)},r.state={modulosOriginal:[],modulos:[],farmacias:[],farmaciaSeleccionada:"",filtrado:"",totalAhorroGeneral_promociones:0,montoTotalGeneral_promociones:0},r.handleChange=r.handleChange.bind(Object(p.a)(r)),r.elementResultadoModulo=n.a.createRef(),r.elementNav=n.a.createRef(),r}return Object(u.a)(t,[{key:"componentWillMount",value:function(){this.cargarDatosInicio_DesdeLocalStorage(),navigator.onLine&&this.cargarDatosInicio_DesdeApi()}},{key:"handleChange",value:function(e){var a=this,t=this.state.farmacias.find((function(a){return String(a.id)+" - "+a.nombre===String(e.target.value)}));j(t),this.setState({farmaciaSeleccionada:t},(function(){a.elementResultadoModulo.current.actualizarCantidadEnLosModulos()}))}},{key:"render",value:function(){return R()?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"app container-fluid"},n.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},n.a.createElement("h2",null,"Pedidos")),n.a.createElement(W,{ref:this.elementNav,handleChange:this.handleChange,filtrarModulosApp:this.filtrarModulosApp,getTotalAhorroGeneral:this.state.totalAhorroGeneral_promociones,getMontoTotalGeneral:this.state.montoTotalGeneral_promociones,farmacias:this.state.farmacias,farmacia:this.state.farmaciaSeleccionada}),n.a.createElement("div",{className:"float-end"},n.a.createElement("button",{className:"btn btn-success",onClick:this.onClickSeguirComprando},"Seguir Comprando")),n.a.createElement("br",null)," ",n.a.createElement("br",null),n.a.createElement(U,{ref:this.elementResultadoModulo,modulos:this.state.modulos,farmacia:this.state.farmaciaSeleccionada,refreshMontoAhorroGeneral:this.refreshMontoAhorroGeneral_promociones,isPromociones:!0}),this.state.modulos.length>0&&n.a.createElement("div",{className:"float-end"},n.a.createElement("br",null)," ",n.a.createElement("button",{className:"btn btn-success",onClick:this.onClickSeguirComprando},"Seguir Comprando")))):n.a.createElement(s.a,{to:"/sign-in"})}}]),t}(r.Component);var K=function(e){var a=Object(r.useState)(0),t=Object(c.a)(a,2),o=(t[0],t[1],Object(r.useState)(0)),l=Object(c.a)(o,2),i=(l[0],l[1],new Map);function s(a){e.farmacia;return 0}function d(e,a){}function m(){}return Object(r.useEffect)((function(){e.modulos.forEach((function(e){i.set(e.id,n.a.createRef())}))}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(n.a.Fragment,null,e.modulos.map((function(a,t){return n.a.createElement(n.a.Fragment,null,n.a.createElement(H,{key:a.id,ref:i.get(a.id),isPar:parseInt(t)%2,farmacia:e.farmacia,modulo:a,getCantidad:s,setCantidad:d,refreshMontoAhorroGeneral:m,isPedido:e.isPedido}))}))))};var _=function(e){var a=n.a.createRef(),t=Object(r.useState)(0),o=Object(c.a)(t,2),l=o[0],i=o[1],s=Object(r.useState)(0),d=Object(c.a)(s,2),m=d[0],u=d[1];return Object(r.useEffect)((function(){var a=0,t=0;e.farmaciaModulos.modulos.forEach((function(r){var n=function(e,a,t){var r=0,n=0;e.moduloDetalle.forEach((function(e){var t=e.cantidadUnidades;0==t&&(t=1),e.objProducto.pro_PrecioBase>0&&(n+=x(e,a)*t),e.precioDescuento>0&&(r+=A(e,a)*t)}));var o=0,l=0;return t>0&&(l=n*t-(o=r*t)),{ahorroTotal:l,montoTotal:o}}(r,e.farmaciaModulos.farmacia,r.cantidadGrabado);a+=n.montoTotal,t+=n.ahorroTotal})),i(a),u(t)}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header pedidoFarmacia-header"},n.a.createElement("h5",{className:"card-title"},String(e.farmaciaModulos.farmacia.id)+" - "+e.farmaciaModulos.farmacia.nombre)),n.a.createElement("div",{className:"card-body card-body-box-sizing"},n.a.createElement(K,{ref:a,modulos:e.farmaciaModulos.modulos,farmacia:e.farmaciaModulos.farmacia,refreshMontoAhorroGeneral:function(){},isPedido:e.isPedido})),n.a.createElement("div",{className:"card-footer text-muted pedidoFarmacia-footer"},n.a.createElement("div",{className:"float-left"},"                ",n.a.createElement("div",{className:"input-group "},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text font-weight-bold"},"MONTO TOTAL GENERAL")),n.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:N(l)})),n.a.createElement("div",{className:"input-group "},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text font-weight-bold"},"TOTAL GENERAL AHORRO")),n.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:N(m)}))))),n.a.createElement("br",null))};var q=function(){var e=Object(r.useState)([]),a=Object(c.a)(e,2),t=a[0],o=a[1],l=new Map;return Object(r.useEffect)((function(){var e=[],a=window.localStorage.getItem("l_pendienteGrabados")||"";null!==a&&void 0!==a&&""!==a&&(a=JSON.parse(a)),Array.isArray(a)||(a=[]),a.forEach((function(a){for(var t=0;t<a.modulos.length;t++){for(var r=!0,n=0;n<e.length;n++)if(e[n].farmacia.id===a.farmacia.id){(o=C(a.modulos[t].modulo)).cantidadGrabado=a.modulos[t].cantidad,e[n].modulos.push(o),r=!1;break}if(r){var o,l=[];(o=C(a.modulos[t].modulo)).cantidadGrabado=a.modulos[t].cantidad,l.push(o);var c={farmacia:S(a.farmacia),modulos:l};e.push(c)}}})),e.forEach((function(e){l.set(e.farmacia.id,n.a.createRef())})),o(e)}),[]),R()?n.a.createElement("div",{className:"app container-fluid"},n.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},n.a.createElement("h2",null,"Pedidos")),n.a.createElement("div",{className:"float-end"},n.a.createElement("button",{className:"btn btn-success",onClick:function(e){return function(e){e.preventDefault();var a=[],r=Date.now(),n={};n.promotor=I(),n.pedidoModulos=[],t.map((function(e,t){e.modulos.map((function(t,o){var l={modulo:t,farmacia:e.farmacia,cantidad:t.cantidadGrabado,fecha:r,guid:null,procesado:null,procesado_fecha:null,procesado_cantidad:null,procesado_descripcion:null};a.push(l);var c={idModulo:t.id,idFarmacia:e.farmacia.id,cantidad:t.cantidadGrabado};n.pedidoModulos.push(c)}))}));var o=JSON.stringify(n);fetch(P()+"Pedido",{method:"POST",headers:{Authorization:G(),"Content-Type":"application/json"},body:o}).then((function(e){return e.json()})).then((function(e){if(e&&"00000000-0000-0000-0000-000000000000"!==e){var t=window.localStorage.getItem("l_pedidosHistorial")||"";null!==t&&void 0!==t&&""!==t&&(t=JSON.parse(t)),Array.isArray(t)||(t=[]),a.forEach((function(a){a.guid=e}));var r=t.concat(a);localStorage.setItem("l_pedidosHistorial",JSON.stringify(r)),localStorage.setItem("l_pendienteGrabados",JSON.stringify([])),window.location.reload(!1)}else alert("Guid "+e)}))}(e)}},"Enviar Todos los Pedidos")),n.a.createElement("br",null),t.map((function(e,a){return n.a.createElement(_,{key:a,ref:l.get(e.farmacia.id),farmaciaModulos:e,isPedido:!0})}))):n.a.createElement(s.a,{to:"/sign-in"})};var Y=function(){var e=Object(r.useState)([]),a=Object(c.a)(e,2),t=a[0],o=a[1];function l(){}return new Map,Object(r.useEffect)((function(){var e=window.localStorage.getItem("l_pedidosHistorial")||"";null!==e&&void 0!==e&&""!==e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[]);var a=[];e.forEach((function(e){for(var t=0,r=!0,n=0;n<a.length;n++)if(a[n].guid===e.guid){t=n,r=!1;break}if(r){var o={guid:e.guid,fecha:e.fecha,farmacias:[]};a.push(o),t=a.length-1}var l=!0;for(n=0;n<a[t].farmacias.length;n++)a[t].farmacias[n].farmacia.id===e.farmacia.id&&(e.modulo.guid=e.guid,e.modulo.procesado=e.procesado,e.modulo.procesado_fecha=e.procesado_fecha,e.modulo.procesado_cantidad=e.procesado_cantidad,e.modulo.procesado_descripcion=e.procesado_descripcion,a[t].farmacias[n].modulos.push(e.modulo),l=!1);if(l){var c=[];e.modulo.guid=e.guid,e.modulo.procesado=e.procesado,e.modulo.procesado_fecha=e.procesado_fecha,e.modulo.procesado_cantidad=e.procesado_cantidad,e.modulo.procesado_descripcion=e.procesado_descripcion,c.push(e.modulo);var i={farmacia:S(e.farmacia),modulos:c};a[t].farmacias.push(i)}})),o(a)}),[]),R()?n.a.createElement("div",{className:"app container-fluid"},n.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},n.a.createElement("h2",null,"Historial Pedidos")),t.map((function(e,a){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h3",{className:"panel-title"},null!=e.fecha&&"Fecha del pedido: "+y(new Date(e.fecha))+" ","  ")),n.a.createElement("div",{className:"card-body"},e.farmacias.map((function(e,a){return n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header pedidoFarmacia-header"},n.a.createElement("h5",{className:"card-title"},String(e.farmacia.id)+" - "+e.farmacia.nombre)),n.a.createElement("div",{className:"card-body card-body-box-sizing"},n.a.createElement(K,{modulos:e.modulos,farmacia:e.farmacia,refreshMontoAhorroGeneral:l}))),n.a.createElement("br",null))})))))}))):n.a.createElement(s.a,{to:"/sign-in"})};var Q=function(e){var a=Object(r.useRef)(null),t=Object(r.useRef)(null),o=Object(r.useState)([]),l=Object(c.a)(o,2),i=l[0],s=l[1],d=Object(r.useState)(0),m=Object(c.a)(d,2),u=m[0],p=m[1],f=Object(r.useState)(0),v=Object(c.a)(f,2),g=v[0],h=v[1];function b(){var e=M();null!==e&&void 0!==e&&""!==e&&(a.current.value=String(e.id)+" - "+e.nombre);var t=F();p(t.montoTotal),h(t.ahorroTotal)}function E(e){e.preventDefault();var a=e.target.value;if(null!==a&&void 0!==a&&""!==a){var r=i.find((function(e){return String(e.id)+" - "+e.nombre===String(a)}));if(null!==r&&void 0!==r&&""!==r)return j(r),b(),void t.current.focus()}j(null),b()}return Object(r.useEffect)((function(){!function(){var e=localStorage.getItem("l_farmacias")||"";null!==e&&void 0!==e&&""!==e&&(e=JSON.parse(e));Array.isArray(e)||(e=[]);s(e)}(),b()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:"navbar navbar-light bg-gradient-info"},n.a.createElement("div",{className:"row rowNavbar"},"    ",n.a.createElement("div",{className:"col-lg-6 col-md-12"},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"Farmacia"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{ref:a,type:"text",list:"listaFarmacias",className:"form-control",onClick:function(e){e.preventDefault(),e.target.value="",E(e)},onChange:E}),n.a.createElement("datalist",{id:"listaFarmacias"},n.a.createElement("select",{className:"form-control "},i.map((function(e){return n.a.createElement("option",{key:e.id},String(e.id)+" - "+e.nombre)}))))))),n.a.createElement("div",{className:"col-lg-6  col-md-12"},n.a.createElement("div",{className:"input-group "},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text font-weight-bold"},"MONTO TOTAL GENERAL")),n.a.createElement("input",{type:"text",ref:t,className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:N(u)})),n.a.createElement("div",{className:"input-group "},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text font-weight-bold"},"TOTAL GENERAL AHORRO")),n.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:N(g)}))))))};var X=function(){var e=Object(r.useState)([]),a=Object(c.a)(e,2),t=a[0],o=a[1],l=Object(r.useState)(0),i=Object(c.a)(l,2),d=i[0],m=i[1],u=Object(r.useState)(!1),p=Object(c.a)(u,2),f=p[0],v=p[1],g=Object(r.useState)(!1),E=Object(c.a)(g,2),N=E[0],y=(E[1],Object(r.useState)(!0)),S=Object(c.a)(y,2),C=S[0],O=(S[1],Object(s.g)());function A(){var e=localStorage.getItem("l_laboratorios")||"";""!==e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[]),o(e)}function x(e,a){e.preventDefault();var r=d;r=0===d&&-1===a?t.length-1:d===t.length-1&&1===a?0:d+a,m(r)}function w(e,a){e.preventDefault(),O.push("/promociones/"+a)}return Object(r.useEffect)(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(),navigator.onLine;case 2:case"end":return e.stop()}}),e)}))),[]),R()?n.a.createElement("div",{className:"app container-fluid mb-4"},n.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},n.a.createElement("h2",null,"Laboratorios")),n.a.createElement(Q,null),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"float-end"},n.a.createElement("button",{className:"btn btn-success",onClick:function(e){return function(e){e.preventDefault(),O.push("/carrito")}(e)}},"Ir al Carrito")),n.a.createElement("br",null)),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"checkModoCarrusel",checked:f,onClick:function(){return v(!f)}}),n.a.createElement("label",{className:"form-check-label",for:"checkModoCarrusel"},"Carrusel")),!f&&n.a.createElement("div",{className:"row"},t.map((function(e,a){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col-4",onClick:function(a){return w(a,e.id)}},n.a.createElement("img",{className:"d-block w-100 img-fluid",src:"data:image/jpeg;base64,".concat(e.imagenBase64)}),N&&n.a.createElement("div",{className:"carousel-caption d-none d-md-block"},n.a.createElement("h5",{className:"carousel-captio-h5"},e.nombre))))}))),f&&n.a.createElement("div",{className:"carousel slide","data-ride":"carousel"},n.a.createElement("div",{className:"carousel-inner"},t.map((function(e,a){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"carousel-item ".concat(d===a?" active":""),onClick:function(a){return w(a,e.id)}},n.a.createElement("img",{className:"d-block w-100 img-fluid",src:"data:image/jpeg;base64,".concat(e.imagenBase64)}),N&&n.a.createElement("div",{className:"carousel-caption d-none d-md-block"},n.a.createElement("h5",{className:"carousel-captio-h5"},e.nombre))))}))),C&&n.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",onClick:function(e){return x(e,-1)}},n.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),n.a.createElement("span",{className:"sr-only"},"Previous")),C&&n.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",onClick:function(e){return x(e,1)}},n.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),n.a.createElement("span",{className:"sr-only"},"Next")))):n.a.createElement(s.a,{to:"/sign-in"})};var Z=function(e){var a=n.a.createRef(),t=Object(r.useState)(0),o=Object(c.a)(t,2),l=o[0],i=o[1],s=Object(r.useState)(0),d=Object(c.a)(s,2),m=d[0],u=d[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header pedidoFarmacia-header"},n.a.createElement("h5",{className:"card-title"},String(e.farmaciaModulos.farmacia.id)+" - "+e.farmaciaModulos.farmacia.nombre)),n.a.createElement("div",{className:"card-body card-body-box-sizing"},n.a.createElement(U,{ref:a,modulos:e.farmaciaModulos.modulos,farmacia:e.farmaciaModulos.farmacia,refreshMontoAhorroGeneral:function(){i(a.current.state.montoTotalGeneral),u(a.current.state.totalAhorroGeneral)},isPromociones:!1,isCarrito:e.isCarrito})),n.a.createElement("div",{className:"card-footer text-muted pedidoFarmacia-footer"},n.a.createElement("div",{className:"float-left"},"                ",n.a.createElement("div",{className:"input-group "},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text font-weight-bold"},"MONTO TOTAL GENERAL")),n.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:N(l)})),n.a.createElement("div",{className:"input-group "},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text font-weight-bold"},"TOTAL GENERAL AHORRO")),n.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:N(m)}))))),n.a.createElement("br",null))};var $=function(){var e=Object(r.useState)([]),a=Object(c.a)(e,2),t=a[0],o=a[1],l=new Map,i=Object(s.g)();function d(){i.push("/laboratorio")}return Object(r.useEffect)((function(){var e=[],a=M();if(null!==a&&void 0!==a&&""!==a){var t=window.localStorage.getItem("l_pedidos")||"";null!==t&&void 0!==t&&""!==t&&(t=JSON.parse(t)),Array.isArray(t)||(t=[]),t.forEach((function(t){if(a.id===t.farmacia.id){for(var r=!0,n=0;n<e.length;n++){if(t.cantidad<=0){r=!1;break}if(e[n].farmacia.id===t.farmacia.id){e[n].modulos.push(C(t.modulo)),r=!1;break}}if(r)if(t.cantidad>0){var o=[];o.push(C(t.modulo));var l={farmacia:a,modulos:o};e.push(l)}}})),e.forEach((function(e){l.set(e.farmacia.id,n.a.createRef())}))}o(e)}),[]),R()?n.a.createElement("div",{className:"app container-fluid"},n.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},n.a.createElement("h2",null,"Carrito")),n.a.createElement("div",{className:"float-end px-4"},n.a.createElement("button",{className:"btn btn-success",onClick:function(e){return function(e){if(e.preventDefault(),t.length>0){var a=localStorage.getItem("l_pendienteGrabados")||"";null!==a&&void 0!==a&&""!==a&&(a=JSON.parse(a)),Array.isArray(a)||(a=[]);for(var r=0;r<t.length;r++){for(var n=[],o=0;o<t[r].modulos.length;o++){for(var l=!0,c=0;c<a.length;c++)if(t[r].farmacia.id===a[c].farmacia.id){for(var i=0;i<a[c].modulos.length;i++)if(t[r].modulos[o].id===a[c].modulos[i].modulo.id){a[c].modulos[i].cantidad=O(t[r].modulos[o],t[r].farmacia),l=!1;break}break}if(l){var s={modulo:t[r].modulos[o],cantidad:O(t[r].modulos[o],t[r].farmacia)};n.push(s)}}if(n.length>0){var m={farmacia:t[r].farmacia,modulos:n,fecha_grabado:Date.now()};a.push(m)}}localStorage.setItem("l_pendienteGrabados",JSON.stringify(a))}var u=M();if(null!==u&&void 0!==u&&""!==u){var p=localStorage.getItem("l_pedidos")||"";""!==p&&(p=JSON.parse(p)),Array.isArray(p)&&(p=p.filter((function(e){return e.farmacia.id!==u.id})),localStorage.setItem("l_pedidos",JSON.stringify(p)),j(null),d())}}(e)}},"Grabar Pedido")),n.a.createElement("div",{className:"float-end"},n.a.createElement("button",{className:"btn btn-success",onClick:function(e){return function(e){e.preventDefault(),d()}(e)}},"Seguir Comprando")),n.a.createElement("br",null),t.map((function(e,a){return n.a.createElement(Z,{key:a,ref:l.get(e.farmacia.id),farmaciaModulos:e,isCarrito:!0})}))):n.a.createElement(s.a,{to:"/sign-in"})};var ee=function(){var e=n.a.createRef();function a(a){a.preventDefault(),"1554"===e.current.value&&(localStorage.clear(),window.location.reload(!1))}return Object(r.useEffect)((function(){}),[]),R()?n.a.createElement("div",{className:"app container-fluid"},n.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},n.a.createElement("h2",null,"Configuraci\xf3n")),n.a.createElement("div",{class:"bg-light p-5 mb-5 shadow-lg"},n.a.createElement("h1",{className:"display-4"},"Borrar datos"),n.a.createElement("p",{className:"lead"},"Al borrarlas, se restaura a la versi\xf3n original de la app."),n.a.createElement("hr",{className:"my-4"}),n.a.createElement("p",{className:"lead"},n.a.createElement("div",{className:"mb-3"},n.a.createElement("a",{className:"btn btn-primary btn-lg",href:"#",role:"button",onClick:function(e){return a(e)}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"28",width:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-trash-2"},n.a.createElement("polyline",{points:"3 6 5 6 21 6"}),n.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),n.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),n.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"})))),n.a.createElement("div",{className:"mb-3"},n.a.createElement("input",{ref:e,className:"form-control form-control-lg",type:"password",placeholder:"token","aria-label":".form-control-lg example"})))),n.a.createElement("div",{class:"bg-light p-5  mb-5 shadow-lg"},n.a.createElement("h1",{className:"display-4"},"Cerrar sesi\xf3n"),n.a.createElement("hr",{className:"my-4"}),n.a.createElement("p",{className:"lead"},n.a.createElement("a",{className:"btn btn-primary btn-lg",href:"#",role:"button",onClick:function(e){D()}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"28",width:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-power"},n.a.createElement("path",{d:"M18.36 6.64a9 9 0 1 1-12.73 0"}),n.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"12"})))))):n.a.createElement(s.a,{to:"/sign-in"})};var ae=function(){var e=Object(r.useState)(!0),a=Object(c.a)(e,2),t=a[0],o=a[1];function l(e){e.preventDefault(),o(!0)}return n.a.createElement(i.a,null,n.a.createElement("div",{className:"app container-fluid"},n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},n.a.createElement("a",{className:"navbar-brand",href:"#"},n.a.createElement("img",{src:"data:image/jpeg;base64,".concat("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"),alt:"",width:"213",height:"47",className:"d-inline-block align-top"})),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":!t,"aria-label":"Toggle navigation",onClick:function(){return o(!t)}},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse "+(t?"":"collapseShow"),id:"navbarText"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item",activeClassName:"active",onClick:function(e){return l(e)}},n.a.createElement(i.b,{className:"nav-link",to:"/laboratorio","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Laboratorios")),n.a.createElement("li",{className:"nav-item ",activeClassName:"active",onClick:function(e){return l(e)}},n.a.createElement(i.b,{className:"nav-link",to:"/carrito","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Carrito ")),n.a.createElement("li",{className:"nav-item ",activeClassName:"active",onClick:function(e){return l(e)}},n.a.createElement(i.b,{className:"nav-link",to:"/pedidos","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Pedidos ")),n.a.createElement("li",{className:"nav-item",activeClassName:"active",onClick:function(e){return l(e)}},n.a.createElement(i.b,{className:"nav-link",to:"/pedidoshistorial","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Historial de pedidos")),n.a.createElement("li",{className:"nav-item",activeClassName:"active",onClick:function(e){return l(e)}},n.a.createElement(i.b,{className:"nav-link",to:"/config","data-toggle":"collapse","data-target":".navbar-collapse.show"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"28",width:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-settings"},n.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),n.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})))),n.a.createElement("li",{className:"nav-item",activeClassName:"active",onClick:function(e){return l(e)}},n.a.createElement("button",{className:"btn "+function(){var e="btn-light";return null!=V()&&function(){var e=Date.now(),a=V(),t=Math.abs(e-a);return Math.ceil(t/1e3)}()>60&&(e="btn-danger"),e}(),onClick:function(e){return function(e){e.preventDefault(),J().then((function(){window.location.reload(!1)}))}(e)}},n.a.createElement("span",{className:"ultimaActualizacion"},"Sincronizar\xa0"),"\xa0",n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"28",width:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-refresh-ccw"},n.a.createElement("polyline",{points:"1 4 1 10 7 10"}),n.a.createElement("polyline",{points:"23 20 23 14 17 14"}),n.a.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))),null!=V()&&n.a.createElement("span",{className:"navbar-text ultimaActualizacion"},"\xa0\xdaltima actualizaci\xf3n:\xa0",y(new Date(parseFloat(V()))),"   "))),n.a.createElement("div",{className:"float-end"},n.a.createElement("span",{className:"navbar-text"},""!=I()&&n.a.createElement("u",null,"Promotor/a:")," ",""!=I()&&I())))),n.a.createElement(s.d,null,n.a.createElement(s.b,{exact:!0,path:"/",component:X}),n.a.createElement(s.b,{path:"/sign-in",component:z}),n.a.createElement(s.b,{path:"/promociones/:cuit",component:B}),n.a.createElement(s.b,{path:"/promociones",component:B}),n.a.createElement(s.b,{path:"/carrito",component:$}),n.a.createElement(s.b,{path:"/pedidos",component:q}),n.a.createElement(s.b,{path:"/pedidoshistorial",component:Y}),n.a.createElement(s.b,{path:"/laboratorio",component:X}),n.a.createElement(s.b,{path:"/config",component:ee}))))},te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function re(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ae,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");te?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):re(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):re(a,e)}))}}()}},[[25,1,2]]]);
//# sourceMappingURL=main.0e092f37.chunk.js.map